!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.VueWarehouseSync={})}(this,function(e){"use strict";var c={action:void 0,key:"",value:void 0,oldValue:void 0};function a(e,t,n){t&&n&&t.addPlugin(n);var o=e;return e||(o=c),Object.freeze(o)}e.default=function(n,t,e){var o=(e||{}).moduleName||"warehouse";n.registerModule(o,{namespaced:!0,state:a(null,t,function(){var u=!0;return{set:function(e,t,n){var o=this.get(t);e(),r({action:"set",key:t,value:n,oldValue:o},u)},remove:function(e,t){var n=this.get(t);e();var o={action:"remove",key:t,value:void 0,oldValue:n};r(o,u)},clearAll:function(e){var o={};this.each(function(e,t){o[t]=e}),e(),Object.keys(o).forEach(function(e){var t=o[e],n={action:"clearAll",key:e,value:void 0,oldValue:t};r(n,u)})},_setForceCommit:function(){u=!0},_getForceCommit:function(){return u},_unsetForceCommit:function(){u=!1}}}),mutations:{WAREHOUSE_CHANGED:function(e,t){n.state[o]=a(t,null,null)}}});var u=Object.freeze(c),i=n.watch(function(e){return e[o]},function(e){e!==u&&(t._unsetForceCommit(),t.set(e.key,e.value),t._setForceCommit())},{sync:!0}),r=function(e,t){void 0===t&&(t=!0),u=e,t&&n.commit(o+"/WAREHOUSE_CHANGED",e)};return function(){null!=i&&i(),t&&t._unsetForceCommit(),n.unregisterModule(o)}},Object.defineProperty(e,"__esModule",{value:!0})});
